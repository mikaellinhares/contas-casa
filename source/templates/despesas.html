{% extends 'base.html' %}
{% load static %}

{% block 'head' %}
<link rel="stylesheet" href="{% static 'css/despesas.css' %}">
{% endblock %}

{% block 'script' %}
<!-- <script type="text/javascript" src={% static 'js/despesas.js' %}></script> -->
<script>selecionarItemSidebar('side-item-despesas')</script>
{% endblock %}

{% block 'title' %}
Despesas
{% endblock%}

{% block 'body' %}
<div class="main-container">
    <div class="despesas-totais">
        <div class="card-total card-divida bg-danger">
            <h2>Dívidas</h2>
            <h1>R$ 10.000,00</h1>
        </div>
        <div class="card-total card-pago bg-success">
            <h2>Pago</h2>
            <h1>R$ 10.000,00</h1>
        </div>
        <div class="card-total card-pendente bg-warning">
            <h2>Pendente</h2>
            <h1>R$ 10.000,00</h1>
        </div>
        <div class="card-total card-parcelado bg-info">
            <h2>Parcelado</h2>
            <h1>R$ 10.000,00</h1>
        </div>
    </div>
    <div class="despesas-filtros">
        <select class="filtro-select custom-select">
            <option selected>Categoria</option>
            <option value="1">Mercado</option>
            <option value="2">Two</option>
            <option value="3">Three</option>
        </select>
        <select class="filtro-select custom-select">
            <option selected>Tipo de Data</option>
            <option value="criacao">Criação</option>
            <option value="pagamento">Pagamento</option>
            <option value="vencimento">Vencimento</option>
        </select>
    </div>
    <div class="despesas-lista">
        <table class="table table-hover">
            <thead>
              <tr>
                <th scope="col">Nome</th>
                <th scope="col">Categoria</th>
                <th scope="col">Valor</th>
                <th scope="col">Criação</th>
                <th scope="col">Vencimento</th>
                <th scope="col">Pagamento</th>
              </tr>
            </thead>
            <tbody>
            {% if despesas %}
            {% for despesa in despesas %}  
              <tr class="{% if despesa.data_pagamento %}
                            bg-success
                         {% elif despesa.data_vencimento > hoje %}
                            bg-danger
                         {% else %}
                            bg-warning
                         {% endif %}">
                <td>{{ despesa.nome }}</td>
                <td>{{ despesa.categoria }}</td>
                <td>{{ despesa.valor }}</td>
                <td>{{ despesa.data_criacao }}</td>
                <td>{{ despesa.data_vencimento }}</td>
                <td>{{ despesa.data_pagamento }}</td>
                <td><button class="btn btn-success">Pagamentos</button></td>
              </tr>
            {% endfor %}
            {% endif %}
            </tbody>
          </table>
    </div>
</div>
{% endblock %}
